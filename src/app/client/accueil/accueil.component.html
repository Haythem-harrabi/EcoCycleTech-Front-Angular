<div class="page-container">
  <!-- Hero Section with Video Background -->
  <div class="hero-container">
    <video autoplay muted loop playsinline preload="auto" class="background-video" crossorigin="anonymous">
      <source src="../../../assets/vids/Accueil.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  <app-camera-detection></app-camera-detection>

<<<<<<< Updated upstream
<div class="hero-container">
    <video autoplay muted loop playsinline preload="auto" class="background-video" crossorigin="anonymous">
      <source src="../../../assets/vids/Accueil.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  
=======
>>>>>>> Stashed changes
    <div class="overlay">
      <h1 class="slogan">Recycle Today, Reimagine Tomorrow ðŸŒ±</h1>
      <p class="subtext">EcoCycleTech â€” Give your devices a second life</p>
    </div>
  </div>
<!-- In your accueil.component.html -->
<button class="floating-camera-btn" (click)="toggleCameraPopup()">
  <i class="fas fa-camera"></i> Open Scanner
</button>

<app-camera-detection *ngIf="showCameraPopup" (close)="toggleCameraPopup()"></app-camera-detection>

  <!-- Map + Schedule Container -->
  <div class="map-pickup-container">
    <!-- Map Section -->
    <div class="map-section">
      <div class="map-controls">
        <button class="btn btn-sm btn-primary" (click)="findNearestPoint()" [disabled]="!userLocation || isLoading">
          <span *ngIf="isLoading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
          Nearest Point
        </button>
      </div>
      
      <div *ngIf="error" class="alert alert-sm alert-warning mb-2">
        {{ error }}
      </div>
      
      <div leaflet 
           [leafletOptions]="mapOptions" 
           (leafletMapReady)="onMapReady($event)"
           class="map">
      </div>
    </div>

    <!-- Right Side: Pickup Form -->
    <div class="pickup-form" *ngIf="selectedPoint">
      <h4>Plan a Pickup</h4>
      <form (ngSubmit)="confirmPickup()">
        <div class="form-group">
          <label>Point:</label>
          <input class="form-control" [value]="selectedPoint?.name || ''" disabled />
        </div>
        <div class="form-group">
          <label>Date:</label>
          <input class="form-control" [value]="(pickupDate | date:'yyyy-MM-dd') || ''" disabled />
        </div>
        <div class="form-group">
          <label>Time:</label>
          <input class="form-control" value="09:00 - 12:00" disabled />
        </div>
        <button type="submit" class="btn btn-success mt-2" [disabled]="pickupLoading">
          <span *ngIf="pickupLoading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
          Confirm Pickup
        </button>
      </form>
    </div>
  </div>

  <!-- Feedback message -->
  <div *ngIf="scheduleMessage" class="alert mt-3" 
       [ngClass]="{
         'alert-success': scheduleSuccess, 
         'alert-danger': !scheduleSuccess
       }">
    {{ scheduleMessage }}
  </div>

</div>